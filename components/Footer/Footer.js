import {useRouter} from 'next/router';
import {useEffect, useState} from 'react';
import {useSelector} from 'react-redux';
import Button from '../Button/Button';
import Navigation from '../Navigation/Navigation';
import styles from './Footer.module.scss';
import Image from 'next/image';
import Link from 'next/link';

const Footer = () => {
	const router = useRouter();
	const [languageFile, setLanguageFile] = useState();
	const selectedCity = useSelector((state) => state['geolocationSlice']['selectedCity']);
	
	useEffect(() => {
		if (router.locale) {
			import(`../../languages/${router.locale}.json`).then((language) => setLanguageFile(language.default));
		}
	}, [setLanguageFile, router.locale]);
	
	const isWideFooter =
		router.asPath === '/' ||
		router.asPath === `/${selectedCity?.['internationalName'].toLowerCase()}/` ||
		router.asPath === `/${selectedCity?.['internationalName'].toLowerCase()}/order/` ||
		router.asPath === `/${selectedCity?.['internationalName'].toLowerCase()}/details/` ||
		router.asPath === `/${selectedCity?.['internationalName'].toLowerCase()}/error/` ||
		router.asPath === `/${selectedCity?.['internationalName'].toLowerCase()}/contacts/` ||
		router.asPath === `/cooperation/`;
	
	return (
		<footer className={`${styles.Footer} ${isWideFooter ? styles.Footer__main : ''}`}>
			<div className={styles.Footer__about}>
				<div className={styles.Footer__container}>
					<Link href="/">
						<a>
							<svg width="230" height="45" viewBox="0 0 230 45" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M31.6327 35.1462C28.0381 38.6309 23.7245 40.373 18.6921 40.373C13.5397 40.373 9.13637 38.5406 5.48167 34.876C1.82735 31.211 0 26.7952 0 21.6284V2.88367C0 2.09063 0.281751 1.41176 0.844868 0.847061C1.40798 0.28236 2.08495 -0.000183105 2.87577 -0.000183105C3.66658 -0.000183105 4.34355 0.28236 4.90667 0.847061C5.46978 1.41176 5.75153 2.09063 5.75153 2.88367V21.6284C5.75153 25.2092 7.01538 28.2671 9.54385 30.8023C12.0719 33.3379 15.1214 34.6053 18.6921 34.6053C22.2629 34.6053 25.3123 33.3379 27.8403 30.8023C30.3688 28.2671 31.6327 25.2092 31.6327 21.6284" fill="#F0515D"/>
								<path d="M6.40039 9.85363C9.99491 6.36893 14.3086 4.62677 19.341 4.62677C24.4933 4.62677 28.8967 6.45926 32.5514 10.1239C36.2057 13.7888 38.0331 18.2046 38.0331 23.3715V42.1161C38.0331 42.9092 37.7513 43.5881 37.1882 44.1528C36.6251 44.7175 35.9481 45 35.1573 45C34.3665 45 33.6895 44.7175 33.1264 44.1528C32.5633 43.5881 32.2815 42.9092 32.2815 42.1161V23.3715C32.2815 19.7907 31.0177 16.7327 28.4892 14.1975C25.9611 11.6619 22.9117 10.3945 19.341 10.3945C15.7702 10.3945 12.7208 11.6619 10.1927 14.1975C7.66424 16.7327 6.40039 19.7907 6.40039 23.3715" fill="#F0515D"/>
								<path d="M65.7985 16.0165H62.5295V24.8449C62.5295 27.7495 60.9524 29.2449 58.5436 29.2449C56.1634 29.2449 54.586 27.7495 54.586 24.8449V16.0165H51.3457V25.3338C51.3457 29.7623 54.1559 32.0918 57.8551 32.0918C59.7192 32.0918 61.4971 31.3153 62.5295 29.9637V31.8615H65.7985V16.0165Z" fill="#F0515D"/>
								<path d="M81.3131 31.8623H84.5538V22.5165C84.5538 18.0877 81.7719 15.7585 78.0728 15.7585C76.1803 15.7585 74.4307 16.535 73.3697 17.829V16.0172H70.1006V31.8623H73.3697V23.0055C73.3697 20.1009 74.9471 18.6055 77.3559 18.6055C79.7361 18.6055 81.3131 20.1009 81.3131 23.0055V31.8623Z" fill="#F0515D"/>
								<path d="M95.3646 18.5191C97.8023 18.5191 99.7235 20.0717 99.781 22.5162H91.0345C91.3787 20.0144 93.1566 18.5191 95.3646 18.5191ZM102.763 27.146H99.2359C98.6337 28.3827 97.5155 29.3603 95.508 29.3603C93.0991 29.3603 91.2354 27.7788 91.0058 25.1617H103.078C103.165 24.6155 103.193 24.0977 103.193 23.5514C103.193 18.8927 100.01 15.7582 95.508 15.7582C90.8336 15.7582 87.6221 18.9504 87.6221 23.9251C87.6221 28.9001 90.9774 32.1211 95.508 32.1211C99.3793 32.1211 101.874 29.9065 102.763 27.146Z" fill="#F0515D"/>
								<path d="M113.058 18.5191C115.496 18.5191 117.417 20.0717 117.474 22.5162H108.728C109.072 20.0144 110.85 18.5191 113.058 18.5191ZM120.457 27.146H116.93C116.327 28.3827 115.209 29.3603 113.202 29.3603C110.793 29.3603 108.929 27.7788 108.699 25.1617H120.772C120.858 24.6155 120.887 24.0977 120.887 23.5514C120.887 18.8927 117.704 15.7582 113.202 15.7582C108.527 15.7582 105.315 18.9504 105.315 23.9251C105.315 28.9001 108.671 32.1211 113.202 32.1211C117.073 32.1211 119.568 29.9065 120.457 27.146Z" fill="#F0515D"/>
								<path d="M123.009 23.8678C123.009 28.7564 126.307 32.1211 130.465 32.1211C133.046 32.1211 134.938 30.9133 135.942 29.4752V31.862H139.24V10.5821H135.942V18.2312C134.737 16.7358 132.558 15.7582 130.493 15.7582C126.307 15.7582 123.009 18.9788 123.009 23.8678ZM135.942 23.9251C135.942 27.3475 133.619 29.2742 131.153 29.2742C128.715 29.2742 126.364 27.2898 126.364 23.8678C126.364 20.4458 128.715 18.6052 131.153 18.6052C133.619 18.6052 135.942 20.5319 135.942 23.9251Z" fill="#F0515D"/>
								<path d="M146.924 29.9642C146.924 28.7852 146.006 27.8649 144.859 27.8649C143.683 27.8649 142.766 28.7852 142.766 29.9642C142.766 31.1432 143.683 32.0635 144.859 32.0635C146.006 32.0635 146.924 31.1432 146.924 29.9642Z" fill="#F0515D"/>
								<path d="M149.362 23.8674C149.362 28.7559 152.66 32.1207 156.818 32.1207C159.399 32.1207 161.292 30.8264 162.296 29.4748V32.1207C162.296 35.284 160.403 36.8366 157.879 36.8366C155.614 36.8366 153.865 35.7153 153.377 34.0762H150.137C150.538 37.5843 153.664 39.6836 157.879 39.6836C162.812 39.6836 165.593 36.4342 165.593 32.1207V16.0165H162.296V18.3172C161.32 16.9656 159.399 15.7578 156.818 15.7578C152.66 15.7578 149.362 18.9784 149.362 23.8674ZM162.296 23.9246C162.296 27.347 159.973 29.2737 157.507 29.2737C155.069 29.2737 152.718 27.2894 152.718 23.8674C152.718 20.4453 155.069 18.6048 157.507 18.6048C159.973 18.6048 162.296 20.5314 162.296 23.9246Z" fill="#F0515D"/>
								<path d="M184.204 16.0165H180.935V24.8449C180.935 27.7495 179.357 29.2449 176.948 29.2449C174.568 29.2449 172.991 27.7495 172.991 24.8449V16.0165H169.751V25.3338C169.751 29.7623 172.561 32.0918 176.26 32.0918C178.125 32.0918 179.902 31.3153 180.935 29.9637V31.8615H184.204V16.0165Z" fill="#F0515D"/>
								<path d="M188.505 31.8623H191.774V16.0172H188.505V31.8623ZM190.169 13.918C191.316 13.918 192.233 12.9977 192.233 11.8187C192.233 10.6397 191.316 9.71942 190.169 9.71942C188.993 9.71942 188.075 10.6397 188.075 11.8187C188.075 12.9977 188.993 13.918 190.169 13.918Z" fill="#F0515D"/>
								<path d="M194.986 23.8678C194.986 28.7564 198.284 32.1211 202.442 32.1211C205.023 32.1211 206.916 30.9133 207.919 29.4752V31.862H211.217V10.5821H207.919V18.2312C206.715 16.7358 204.536 15.7582 202.471 15.7582C198.284 15.7582 194.986 18.9788 194.986 23.8678ZM207.919 23.9251C207.919 27.3475 205.597 29.2742 203.13 29.2742C200.693 29.2742 198.341 27.2898 198.341 23.8678C198.341 20.4458 200.693 18.6052 203.13 18.6052C205.597 18.6052 207.919 20.5319 207.919 23.9251Z" fill="#F0515D"/>
								<path d="M222.171 18.5191C224.609 18.5191 226.53 20.0717 226.588 22.5162H217.841C218.185 20.0144 219.963 18.5191 222.171 18.5191ZM229.57 27.146H226.043C225.441 28.3827 224.322 29.3603 222.315 29.3603C219.906 29.3603 218.042 27.7788 217.813 25.1617H229.885C229.971 24.6155 230 24.0977 230 23.5514C230 18.8927 226.817 15.7582 222.315 15.7582C217.641 15.7582 214.429 18.9504 214.429 23.9251C214.429 28.9001 217.784 32.1211 222.315 32.1211C226.186 32.1211 228.681 29.9065 229.57 27.146Z" fill="#F0515D"/>
							</svg>
						</a>
					</Link>
					<p>{languageFile?.['footer']?.['service-description']}</p>
				</div>
			</div>
			<div className={styles.Footer__navigation}>
				<div className={styles.Footer__container}>
					<Navigation/>
					<div className={styles.Footer__button}>
						<Button.Primary>{languageFile?.['footer']?.['question-button']}</Button.Primary>
					</div>
				</div>
			</div>
			<div className={styles.Footer__info}>
				<div className={styles.Footer__container}>
					<Link href="#">
						<a className={styles.Footer__link}>{languageFile?.['footer']?.['terms-of-use']}</a>
					</Link>
					<div>
						<Image src="/assets/images/footer/footer-payments.png" width={91} height={18} alt=""/>
					</div>
				</div>
			</div>
		</footer>
	);
};

export default Footer;
